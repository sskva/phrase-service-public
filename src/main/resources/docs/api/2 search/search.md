# Бизнес требования
1. Совершать поиск тегов.
2. Совершать поиск фраз по тегам.
3. Совершать поиск фраз по словам.
4. Совершать поиск юзеров по нику.<br/><br/>

# Функциональные требования
## 1. Метод searchTags (auth)
**входящие данные**<br/>
```json
{
  "partTag": "пог"
}
```
**валидация**<br/>
partTag >= 3 символов, <= 25, разрешенные символы a-zA-Z0-9а-яА-Я.,:; _?!+=/'\"*(){}[]-<br/>

**логика метода**<br/>
сервис по partTag ищет теги в таблице tag и отсылает юзеру теги и их id.<br/>
сортировка - сначала должны идти теги, которые начинаются со значения partTag в порядке убывания популярности,<br/>
затем должны идти теги, которые не начинаются со значения partTag в порядке убывания популярности

**исходящие данные в случае успеха** <br/>статус 200
```json
{
  "data": {
    "tags": [
      {
        "id": 15,
        "text": "погожий"
      },
      {
        "id": 2,
        "text": "погода"
      },
      {
        "id": 16,
        "text": "непогожий"
      },
      {
        "id": 18,
        "text": "непогода"
      }
    ]
  }
}
```
## 2. Метод searchPhrasesByTag (auth)
**входящие данные**<br/>
```json
{
  "tagId": 3,
  "sort": "RANDOM"
}
```
**валидация**<br/>
tagId >= 0<br/>
sort: RANDOM, TIME_INSERT

**логика метода**<br/>
сервис по tagId ищет фразы и возвращает юзеру массив фраз: <br/>
id фразы, id юзера, ник юзера, текст фразы, время фразы, теги фразы, <br/>
сортировка от новых к старым или случайным образом.

**исходящие данные в случае успеха** <br/>статус 200
```json
{
  "data": {
    "phrases": [
      {
        "phraseId": 15,
        "userId": 5,
        "nickname": "kudyabl",
        "text": "Хорошая погода сегодня - 3",
        "timeInsert": "2022-11-17 16:08:29",
        "tags": [
          {
            "tagId": 1,
            "text": "море"
          },
          {
            "tagId": 15,
            "text": "погожий"
          }
        ]
      },
      {
        "phraseId": 8,
        "userId": 1,
        "nickname": "barabashka",
        "text": "Сегодня солнечный день - 4",
        "timeInsert": "2022-11-14 16:09:17",
        "tags": [
          {
            "tagId": 1,
            "text": "море"
          },
          {
            "tagId": 3,
            "text": "солнце"
          }
        ]
      }
    ]
  }
}
```
## 3. Метод searchPhrasesByPartWord (auth)
**входящие данные**<br/>
```json
{
  "partWord": "кав",
  "sort": "TIME_INSERT"
}
```
**валидация**<br/>
partWord >= 3 символов, <= 25, разрешенные символы a-zA-Z0-9а-яА-Я.,:; _?!+=/'\"*(){}[]-<br/>
sort: RANDOM, TIME_INSERT

**логика метода**<br/>
сервис по partWord ищет фразы и возвращает юзеру массив фраз: <br/>
id фразы, id юзера, ник юзера, текст фразы, время фразы, теги фразы, <br/>
сортировка от новых к старым или случайным образом.

**исходящие данные в случае успеха** <br/>статус 200
```json
{
  "data": {
    "phrases": [
      {
        "phraseId": 33,
        "userId": 6,
        "nickname": "кавалер",
        "text": "Теперь я дважды кавалер",
        "timeInsert": "2022-11-21 12:17:13",
        "tags": [
          {
            "tagId": 20,
            "text": "кавалер"
          },
          {
            "tagId": 22,
            "text": "дважды"
          }
        ]
      },
      {
        "phraseId": 32,
        "userId": 6,
        "nickname": "кавалер",
        "text": "А я кавалер",
        "timeInsert": "2022-11-21 10:42:15",
        "tags": [
          {
            "tagId": 20,
            "text": "кавалер"
          },
          {
            "tagId": 21,
            "text": "бал"
          }
        ]
      }
    ]
  }
}
```
## 4. Метод searchUsersByPartNickname (auth)
**входящие данные**<br/>
```json
{
  "partNickname": "квар"
}
```
**валидация**<br/>
partNickname >= 3 символа, <= 15 символов, разрешенные символы a-zA-Z0-9а-яА-Я. _-<br/>

**логика метода**<br/>
сервис по partNickname ищет ники и возвращает юзеру массив ников и их id: <br/>
сортировка - сначала должны идти ники, которые начинаются со значения partNickname,<br/>
затем должны идти ники, которые не начинаются со значения partNickname.

**исходящие данные в случае успеха** <br/>статус 200
```json
{
    "data": [
        {
            "userId": 7,
            "nickname": "квардобль"
        },
        {
            "userId": 9,
            "nickname": "добкварли"
        },
        {
            "userId": 8,
            "nickname": "добликвар"
        }
    ]
}
```